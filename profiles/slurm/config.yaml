# Snakemake SLURM profile configuration
# This profile enables SLURM job submission for batch processing

# Cluster submission command
cluster: "sbatch -A {resources.slurm_account} -p {resources.slurm_partition} -c {threads} --mem={resources.mem_mb}M -t {resources.runtime} {resources.slurm_extra}"

# Job status checking
cluster-status: "profiles/slurm/slurm-status.py"

# Default resources for all jobs (can be overridden per-rule)
default-resources:
  slurm_partition: "normal"
  slurm_account: "default"
  runtime: 120
  mem_mb: 8000
  slurm_extra: ""

# Job submission settings
jobs: 100  # Max concurrent jobs
max-jobs-per-second: 10
max-status-checks-per-second: 1

# Retry failed jobs
retries: 3
restart-times: 0

# Keep going if a job fails (useful for batch processing)
keep-going: False

# Latency wait (seconds to wait for output files)
latency-wait: 60

# Rerun incomplete jobs
rerun-incomplete: True

# Print shell commands
printshellcmds: True
