---
# ESM (Evolutionary Scale Modeling) Environment - Optimized
# For protein language model inference with PyTorch 2.x
name: esm_annotate
channels:
  - conda-forge
  - pytorch
  - nvidia
  - bioconda
  - nodefaults

dependencies:
  # Python and core scientific libraries
  - python>=3.9,<3.12
  - numpy
  - click
  - biopython

  # PyTorch 2.x with CUDA support (auto-detects available CUDA version)
  # For CPU-only: remove pytorch-cuda line
  - pytorch>=2.0
  - pytorch-cuda  # Automatically selects compatible CUDA version

  # Math libraries for optimized CPU performance
  - mkl  # Intel Math Kernel Library for fast linear algebra

  # Bioinformatics tools
  - htslib  # For VCF/BAM file handling

  # Package manager
  - pip

  # Python packages via pip
  - pip:
      - fair-esm==2.0.0  # ESM protein language models
